# =============================================================================
# CV-REFORMATTER - Configuration Environment
# =============================================================================
# Copy this file to .env and configure your values
#
# For Docker deployment, these variables are passed via docker-compose.yml
# For GitHub Actions CI/CD, configure these as GitHub Secrets
# =============================================================================

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# Local development uses default values
# Production MUST use strong passwords

POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=cv_reformatter

# Full connection string (auto-generated in docker-compose)
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}?schema=public

# =============================================================================
# REDIS (Queue & Cache)
# =============================================================================
# Leave empty for local development without auth
# Set a strong password for production

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# APPLICATION
# =============================================================================

APP_PORT=3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# LLM CONFIGURATION
# =============================================================================
# Compatible with any OpenAI Chat Completions API format:
# - OpenAI (gpt-4o, gpt-4-turbo, gpt-3.5-turbo)
# - Mistral AI (mistral-large-latest, mistral-medium, etc.)
# - Groq (llama-3.1-70b-versatile, mixtral-8x7b-32768)
# - Together AI (meta-llama/Llama-3-70b-chat-hf)
# - DeepSeek (deepseek-chat, deepseek-coder)
# - Ollama (local models via http://localhost:11434/v1/chat/completions)
# - Azure OpenAI (custom endpoint)
# - Any OpenAI-compatible API

LLM_API_KEY=your-api-key-here
LLM_ENDPOINT=https://api.openai.com/v1/chat/completions
LLM_MODEL=gpt-4o
LLM_MAX_TOKENS=8192

# --- Provider Examples ---
#
# OpenAI:
#   LLM_API_KEY=sk-...
#   LLM_ENDPOINT=https://api.openai.com/v1/chat/completions
#   LLM_MODEL=gpt-4o
#
# Mistral AI:
#   LLM_API_KEY=your-mistral-key
#   LLM_ENDPOINT=https://api.mistral.ai/v1/chat/completions
#   LLM_MODEL=mistral-large-latest
#
# Groq (fast inference):
#   LLM_API_KEY=gsk_...
#   LLM_ENDPOINT=https://api.groq.com/openai/v1/chat/completions
#   LLM_MODEL=llama-3.1-70b-versatile
#
# Ollama (local, free):
#   LLM_API_KEY=ollama
#   LLM_ENDPOINT=http://localhost:11434/v1/chat/completions
#   LLM_MODEL=llama3.1:70b

# =============================================================================
# OBJECT STORAGE (S3-Compatible)
# =============================================================================
# Supports any S3-compatible storage:
# - AWS S3
# - Backblaze B2
# - Cloudflare R2
# - MinIO
# - DigitalOcean Spaces

B2_ENDPOINT=https://s3.us-west-004.backblazeb2.com
B2_REGION=us-west-004
B2_ACCESS_KEY_ID=your-access-key-id
B2_SECRET_ACCESS_KEY=your-secret-access-key
B2_BUCKET_NAME=your-bucket-name
B2_BUCKET_CV_RAW=cv-raw
B2_BUCKET_CV_FINAL=cv-final

# --- Provider Examples ---
#
# AWS S3:
#   B2_ENDPOINT=https://s3.eu-west-1.amazonaws.com
#   B2_REGION=eu-west-1
#
# Cloudflare R2:
#   B2_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
#   B2_REGION=auto
#
# MinIO (self-hosted):
#   B2_ENDPOINT=http://localhost:9000
#   B2_REGION=us-east-1

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
# Number of concurrent CV processing jobs

WORKER_CONCURRENCY=5

# =============================================================================
# SONIOX (Speech-to-Text Transcription)
# =============================================================================
# Get your API key at https://console.soniox.com
# Used for transcribing audio notes (WhatsApp voice messages, etc.)
# Pricing: ~$0.10/hour for async transcription

SONIOX_API_KEY=your-soniox-api-key

# =============================================================================
# DEPLOYMENT (GitHub Actions CI/CD)
# =============================================================================
# These are only needed for automated deployments via GitHub Actions
# Configure as GitHub Secrets, not in .env file

# DEPLOY_HOST=your-server-ip
# DEPLOY_USERNAME=root
# DEPLOY_KEY=<your-ssh-private-key>
# DEPLOY_PATH=/path/to/app

# GHCR_USER=your-github-username
# GHCR_TOKEN=<github-personal-access-token-with-write:packages>
